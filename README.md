# í”„ë¡œì íŠ¸ ì´ë¦„ 

TerraFort (Terra(ë•…) + Fortress(ìš”ìƒˆ))

## ğŸ“– ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ì†Œê°œ](#í”„ë¡œì íŠ¸-ì†Œê°œ)
2. [ì£¼ìš”ê¸°ëŠ¥](#ì£¼ìš”ê¸°ëŠ¥)
3. [ê°œë°œê¸°ê°„](#ê°œë°œê¸°ê°„)
4. [Trouble Shooting](#trouble-shooting)
   
## í”„ë¡œì íŠ¸ ì†Œê°œ
 Unity ìˆ™ë ¨ íŒ€ í”„ë¡œì íŠ¸
 

## ì£¼ìš”ê¸°ëŠ¥

- ê¸°ëŠ¥ 1 : ì¸í’‹ ì•¡ì…˜ì„ ì´ìš©í•˜ì—¬, í”Œë ˆì´ì–´ì˜ ë™ì‘ ë° ê¸°ëŠ¥ ì„¤ì •

![Image](https://github.com/user-attachments/assets/01b72c4f-c463-4650-a9b1-6afd7a627d4a)

- ê¸°ëŠ¥ 2 : ë‚ ì”¨ ì‹œìŠ¤í…œ - ì§€ë©´ì˜ ì˜¨ë„ì— ë”°ë¼ í•´ë‹¹ ì§€ë©´ì˜ ë‚ ì”¨ ëœë¤ìœ¼ë¡œ ì„¤ì • (25'C ì´ìƒì‹œ ëˆˆ í™•ë¥  ê°ì†Œ, 35'C ì´ìƒì‹œ ê°•ìš° í™•ë¥  ì¦ê°€)
![Image](https://github.com/user-attachments/assets/599bc83f-58b8-40e0-8fe6-ba1129ff1a15)

- ê¸°ëŠ¥ 3 : ê±´ì¶• ì‹œìŠ¤í…œ 
![Image](https://github.com/user-attachments/assets/40cfc62c-5adb-4164-86ee-4f538ec8e73a)

- ê¸°ëŠ¥ 4 : ì œì‘ ì‹œìŠ¤í…œ
![Image](https://github.com/user-attachments/assets/813d90cd-f379-4c80-a074-76fdac323f48)

- ê¸°ëŠ¥ 5 : í™˜ê²½ì„¤ì •
![Image](https://github.com/user-attachments/assets/d6b48fb2-8148-4602-8bbb-109f6a9f78f4)

- ê¸°ëŠ¥ 6 : ìŠ¤í…Œë¯¸ë„ˆë¥¼ ì‚¬ìš©í•´ì„œ í™œë™ì„ í•˜ê³  ë°°ê³ í””ì´ ë‹¤ ì†Œì§„ ë  ê²½ìš° ì²´ë ¥ì´ ê°ì†Œë¨ ê·¸ë¦¬ê³  ì²´ë ¥ì´ 0ì´ ëœë‹¤ë©´ í”Œë ˆì´ì–´ê°€ ì‚¬ë§í–ˆìŠµë‹ˆë‹¤. íŒì—…ì´ ë‚˜ì˜´

- ê¸°ëŠ¥ 7 : ì†Œëª¨ ì•„ì´í…œ ì„­ì·¨ ì‹œ, ë°°ê³ í””ê³¼ ì²´ë ¥ íšŒë³µ ê°€ëŠ¥

- ê¸°ëŠ¥ 8 : ëª¹ì˜ ì¢…ë¥˜ê°€ ê·¼ê±°ë¦¬ / ì›ê±°ë¦¬ / ê³µê²©í•˜ì§€ ì•ŠëŠ” ëª¹ìœ¼ë¡œ, ëª¹ì˜ ì„¤ì •ê°’ì— ë”°ë¼ ê³µê²©ì˜ ë²”ìœ„ë¥¼ ì„¤ì • +) ê³µê²©ì„ í•˜ì§€ ì•ŠëŠ” ëª¹ì˜ ê²½ìš° í”Œë ˆì´ì–´ë¡œë¶€í„° ë„ë§ì„ ê°
  
- ê¸°ëŠ¥ 8 : Enemy ê³µê²©, ì  ì²˜ì¹˜ ì‹œì— ëœë¤ìœ¼ë¡œ ìì›ì´ ë“œëë¨

  ![Image](https://github.com/user-attachments/assets/cfbd9e67-5326-43a2-9bcc-4edd7a879b3e)

- ê¸°ëŠ¥ 9 : ì¸ë²¤í† ë¦¬ì—ì„œ ì•„ì´í…œ ì‚¬ìš©,ì¥ì°© ë° ë“œëì„ í•  ìˆ˜ ìˆìŒ
![Image](https://github.com/user-attachments/assets/fe91852c-90ba-47eb-b7b2-4e75d284e869)

- ê¸°ëŠ¥ 10 : í”Œë ˆì´ì–´ê°€ ìì›ì„ ìº˜ ê²½ìš°, ìì›ì´ ë“œëì´ ë˜ê³ , ìƒí˜¸ ì‘ìš© í‚¤ë¥¼ ëˆŒëŸ¬ ì¸ë²¤í† ë¦¬ì— ì¶”ê°€ í•  ìˆ˜ ìˆìŒ
  ![Image](https://github.com/user-attachments/assets/fe776a12-feb6-4a52-9dd4-6eb135d4be19)

- ê¸°ëŠ¥ 11 : ìì› ì±„ì§‘
  ![Image](https://github.com/user-attachments/assets/c691d2e2-388a-45ae-a2a4-9c9099c88af1)

- ê¸°ëŠ¥ 12 : í€˜ìŠ¤íŠ¸
 ![Image](https://github.com/user-attachments/assets/558c5e6e-ab3b-4a29-a704-6200106a3ea9)


## â²ï¸ ê°œë°œê¸°ê°„
- 2024.03.12(í™”) ~ 2024.03.19(í™”)

## Trouble Shooting

### Button

ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ì´í…œì˜ íƒ€ì…ì— ë”°ë¼ ë²„íŠ¼ì˜ ê¸°ëŠ¥ê³¼ í…ìŠ¤íŠ¸ê°€ ë³€í•˜ë„ë¡ ì½”ë“œë¥¼ êµ¬í˜„ -> ì•„ì´í…œì´ ë‹¬ë¼ì ¸ë„ ë²„íŠ¼ì´ "ì°©ìš©"ìœ¼ë¡œ ê³ ì •ì´ ë¨ -> ê¸°ì¡´ ifë¬¸ì„ í†µí•œ ì¡°ê±´ì„ switchë¬¸ìœ¼ë¡œ ë³€ê²½ -> ê°€ë…ì„± ë° ì˜¤ë¥˜ í•´ê²°
```
switch (selectedItem.itemData.itemType)
        {
            case ItemType.Consumable:
                actionButtonText.text = "ì‚¬ìš©";
                currentAction = () => OnUseButton();
                break;

            case ItemType.Equipable:
                if (!slots[index].equipped)
                {
                    actionButtonText.text = "ì¥ì°©";
                    currentAction = () => OnEquipButton();
                }
                else
                {
                    actionButtonText.text = "í•´ì œ";
                    currentAction = () => UnEquip(index);
                }
                actionButton.SetActive(true);
                break;

            default:
                actionButtonText.text = string.Empty;
                currentAction = null;
                actionButton.SetActive(false);
                break;
        }
```

### ViewPort

ê±´ì¶• UI ìŠ¤í¬ë¡¤ ë·° ìƒì„± ì¤‘ 3D ì˜¤ë¸Œì íŠ¸ê°€ ìŠ¤í¬ë¡¤ ë·°ì˜ ë·°í¬íŠ¸ ë°”ê¹¥ì—ì„œë„ í‘œì‹œë¨ -> UI ì¹´ë©”ë¼ ë²”ìœ„ ì¡°ì ˆ, ë ˆì´ì–´ ë§ˆìŠ¤í¬ ë³€ê²½ ë“± ì‹œë„í•˜ì˜€ìœ¼ë‚˜, ì‹¤íŒ¨ -> ë·°í¬íŠ¸ì˜ ë²”ìœ„ë¥¼ ê°€ì ¸ì™€ ë·°í¬íŠ¸ ë°”ê¹¥ì— ì¡´ì¬í•˜ëŠ” ìŠ¬ë¡¯ì„ ë¹„í™œì„±í™” -> í•´ê²°
```
public void SetActiveSlotObject()
    {
        Vector3[] viewportCorners = new Vector3[4];

        // ë·°í¬íŠ¸ì˜ ê° ì½”ë„ˆì˜ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
        viewport.GetWorldCorners(viewportCorners);

        float padding = viewport.rect.height * 0.1f;

        // ë·°í¬íŠ¸ì¢Œí‘œì˜ ìµœëŒ€ê°’(ìš°ì¸¡ ìƒë‹¨), ìµœì†Œê°’(ì´¤ì¸¡ í•˜ë‹¨) ê°€ì ¸ì˜¤ê¸°
        Vector2 viewportMin = new Vector2(viewportCorners[0].x, viewportCorners[0].y); 
        Vector2 viewportMax = new Vector2(viewportCorners[2].x, viewportCorners[2].y - viewportPadding); 

        foreach (var obj in slotObejctList)
        {
            // ìŠ¬ë¡¯ ì˜¤ë¸Œì íŠ¸ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
            Vector3 worldPosition = obj.transform.position;

            // í˜„ì¬ ìŠ¬ë¡¯ì´ ë·°í¬íŠ¸ ë²”ìœ„ ì•ˆì— ìœ„ì¹˜í•˜ëŠ”ì§€ ê²€ì‚¬ í›„ í™œì„±í™”/ë¹„í™œì„±í™”
            if (worldPosition.x >= viewportMin.x && worldPosition.x <= viewportMax.x &&
                worldPosition.y >= viewportMin.y && worldPosition.y <= viewportMax.y)
            {
                obj.SetActive(true); 
            }
            else
            {
                obj.SetActive(false); 
            }
        }
```

### Random Respawn

ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ ëœë¤í•œ ìœ„ì¹˜ì—ì„œ ì  ë° ìì›ì´ ë¦¬ìŠ¤í° í•´ì•¼í•˜ëŠ”ë°, ë•… ì¤‘ì‹¬ì—ì„œë§Œ ë¦¬ìŠ¤í° -> Vector3 randomOffsetì˜ ìœ„ì¹˜ë¥¼ êµ¬í•¨ -> Offsetì˜ ê°’ì„ randomPostionì— ë”í•¨ -> í•´ê²°

```
private Vector3 GetRandomCubeSpawnPosition()
    {
        if (spawnPoints.Count == 0)
        {
            Debug.LogError("ìŠ¤í° ê°€ëŠ¥í•œ íë¸Œê°€ ì—†ìŠµë‹ˆë‹¤!");
            return Vector3.zero;
        }
        Transform randomCube;
        for (int i = 0; i < 10; i++) // ìµœëŒ€ 10ë²ˆ ì‹œë„
        {
            randomCube = spawnPoints[Random.Range(0, spawnPoints.Count)];
            Vector3 randomOffset = new Vector3(Random.Range(-randomCube.localScale.x / 2, randomCube.localScale.x / 2), // Xì¶• ëœë¤ ì˜¤í”„ì…‹
                                                randomCube.position.y + 1f,  // Yì¶•ì€ ë°”ë‹¥ì— ë°•íˆì§€ ì•Šë„ë¡ ê¸°ë³¸ ê°’ ìœ ì§€
                                                Random.Range(-randomCube.localScale.z / 2, randomCube.localScale.z / 2)  // Zì¶• ëœë¤ ì˜¤í”„ì…‹
                                               );
            Vector3 randomPosition = randomCube.position + randomOffset; // ìµœì¢… ëœë¤ ìœ„ì¹˜

            if (!IsPositionOccupied(randomPosition))
            {
                return randomPosition;
            }
        }
        return Vector3.zero;
    }
```

### Animation

BlendTreeë¡œ ì• ë‹ˆë©”ì´ì…˜ êµ¬í˜„ -> ì• ë‹ˆë©”ì´ì…˜ ì‘ë™ì´ ìì—°ìŠ¤ëŸ½ì§€ ëª»í•¨ (Idle Animationì´ Wandering ìƒíƒœë¡œ, ë„ˆë¬´ ëŠë¦¬ê²Œ ì‘ë™í•˜ê³ , ê³µê²© ì• ë‹ˆë©”ì´ì…˜ì´ ì´ìƒí•¨ 

ëŠë¦¬ê²Œ ì‘ë™ ìˆ˜ì • : Threshold ê°’(íŒŒë¼ë¯¸í„°) ìš°ì¸¡ ì• ë‹ˆë©”ì´ì…˜ ì†ë„ì— MoveSpeed íŒŒë¼ë¯¸í„° ê°’ì„ í• ë‹¹, Idle ìƒíƒœ : 0.01ë°°ì†, Walk ìƒíƒœ : 0.5ë°°ì†, Run ìƒíƒœ : 1ë°°ì† ì¸ê²ƒì„ í™•ì¸ -> í•´ë‹¹ ê°’ì„ ìˆ˜ì •

ê³µê²© ì• ë‹ˆë©”ì´ì…˜ : ì§ì ‘ ì‹¤í–‰í•˜ë©°, ìƒíƒœì— ë§ì§€ ì•ŠëŠ” ì• ë‹ˆë©”ì´ì…˜ì„ ì²´í¬í•˜ì—¬, EnemyAI.csì—ì„œ agent.isStoppedë¥¼ ì¡°ì •í•¨, ê·¸ë¦¬ê³  ì• ë‹ˆë©”ì´ì…˜ì„ ìˆ˜ì‘ì—…ìœ¼ë¡œ ê°’ì„ ì¡°ì •í•˜ë©°, ì œì‘í•˜ì˜€ìŒ.
